{% include 'LoogaresUsuarioBundle:Usuarios:menu_edicion.html.twig' %}

<div id="edicion-cuenta" class="edicion">
	{% if app.session.hasFlash('edicion-foto') %}
		    <div class="flash-notice">
		        {{ app.session.flash('edicion-foto') | trans }}
		    </div>
	{% endif %}

	{% if errors %}
		<div class="edicion_error">
			{% for error in errors %}
		        <p>{{ error | trans }}</p>
		    {% endfor %}
		</div>
	{% endif %}

	<form action="{{ path('editarFotoUsuario', { 'param': usuario.id }) }}" method="post" {{ form_enctype(form) }}>
		<div class="form-edicion">			
			<ul class="editar-usuario">
				<li>
					{{form_label(form.file, 'usuario.edicion.foto.subir')}}

					{% set inputClass = (errors.file is defined or errors.valida is defined) ? 'input-error' : ' '%}
					{{form_widget(form.file, { 'attr': {'class': inputClass }})}}
					{% if errors.file is defined or errors.valida is defined %}
						<small class="errors">{{(errors.file is defined) ? errors.file | trans : errors.valida | trans }}</small>
					{% endif %}
				</li>

				<li>
					<label></label>
					<div class="tips">
					<span class="tip_form">{{'usuario.edicion.foto.tip.maximo'|trans}}</span> <br />
					<span class="tip_form">{{'usuario.edicion.foto.tip.formato'|trans}}</span>
					</div>
				</li>

				<br /><br />

				<li class="tip_link">
					<label></label>
					<a href="http://mypictr.com/?size=100x100" target="blank">{{'usuario.edicion.foto.mypictr'|trans}}</a>
				</li>

				{{form_rest(form)}}

				<li class="submit">
					<label></label><input type="submit" value="{{'usuario.edicion.foto.submit'|trans}}" formnovalidate />
				</li>
			</ul>
	    </div>		    
	</form>

	<form action="{{ path('editarFotoUsuario', { 'param': usuario.id }) }}" method="post">
		<div class="form-borrar-foto">
			<input type="hidden" name="borrarFoto" value="borrarFoto">
			<input type="submit" value="{{'usuario.edicion.foto.borrar'|trans}}" formnovalidate />
		</div>
	</form>
</div>